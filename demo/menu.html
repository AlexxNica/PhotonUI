<!doctype html>

<html>
    <head>
        <meta charset="UTF-8" />
        <title>PhotonUI Menu</title>

        <link type="text/css" rel="stylesheet" href="../photonui/photonui.css" />

        <link type="text/css" rel="stylesheet" href="../photonui/container/window/basewindow.css" />
        <link type="text/css" rel="stylesheet" href="../photonui/container/window/window.css" />
        <link type="text/css" rel="stylesheet" href="../photonui/container/window/window-theme.css" />
        <link type="text/css" rel="stylesheet" href="../photonui/container/window/popupwindow.css" />
        <link type="text/css" rel="stylesheet" href="../photonui/container/window/popupwindow-theme.css" />

        <link type="text/css" rel="stylesheet" href="../photonui/container/menu/menuitem.css" />
        <link type="text/css" rel="stylesheet" href="../photonui/container/menu/menu.css" />
        <link type="text/css" rel="stylesheet" href="../photonui/container/menu/menu-theme.css" />

        <link type="text/css" rel="stylesheet" href="../photonui/input/button/button.css" />
        <link type="text/css" rel="stylesheet" href="../photonui/input/button/button-theme.css" />

        <link type="text/css" rel="stylesheet" href="../photonui/visual/label-theme.css" />

        <link type="text/css" rel="stylesheet" href="../photonui/input/checkbox/checkbox-theme.css" />

        <link type="text/css" rel="stylesheet" href="../photonui/input/checkbox/switch.css" />
        <link type="text/css" rel="stylesheet" href="../photonui/input/checkbox/switch-theme.css" />

        <link type="text/css" rel="stylesheet" href="../photonui/visual/separator.css" />
        <link type="text/css" rel="stylesheet" href="../photonui/visual/separator-theme.css" />

        <link type="text/css" rel="stylesheet" href="../photonui/visual/baseicon.css" />
        <link type="text/css" rel="stylesheet" href="../photonui/visual/faicon-fontawesome.css" />

        <link type="text/css" rel="stylesheet" href="../photonui/composite/popupmenu-theme.css" />
        <style>
            html, body {
                margin: 0;
                padding: 0;
                background: #fff;
                color: #000;
                height: 100%;
                overflow: hidden;
            }
        </style>
    </head>
    <body>
        <script src="../lib/classy.js"></script>

        <script src="../photonui/photonui.js"></script>
        <script src="../photonui/helpers.js"></script>

        <script src="../photonui/widget.js"></script>
        <script src="../photonui/container/container.js"></script>
        <script src="../photonui/container/window/basewindow.js"></script>
        <script src="../photonui/container/window/window.js"></script>
        <script src="../photonui/container/window/popupwindow.js"></script>
        <script src="../photonui/container/layout/layout.js"></script>
        <script src="../photonui/visual/baseicon.js"></script>
        <script src="../photonui/visual/faicon.js"></script>
        <script src="../photonui/container/menu/menuitem.js"></script>
        <script src="../photonui/container/menu/submenuitem.js"></script>
        <script src="../photonui/container/menu/menu.js"></script>
        <script src="../photonui/input/button/button.js"></script>
        <script src="../photonui/visual/label.js"></script>
        <script src="../photonui/input/checkbox/checkbox.js"></script>
        <script src="../photonui/input/checkbox/switch.js"></script>
        <script src="../photonui/visual/separator.js"></script>
        <script src="../photonui/composite/popupmenu.js"></script>

        <script>
            var win = new photonui.Window({
                    title: "Menu",
                    x: 50, y: 50,
                    width: 260,
                    visible: true
            });

            var menu = new photonui.Menu();
            win.setChild(menu);

            var item1 = new photonui.MenuItem({
                    icon: new photonui.FAIcon("fa-cog"),
                    text: "Show Icons"
            });
            var icoSwitch = new photonui.Switch({value: true});
            icoSwitch.registerCallback("toggle-icons", "value-changed", function(widget) {
                    menu.iconVisible = widget.value;
            });
            icoSwitch.registerCallback("toggle-icons", "click", function(widget, event) {
                    event.stopPropagation();
            });
            item1.setChild(icoSwitch);
            item1.registerCallback("click", "click", function(widget, event) {
                    var c = widget.getChild();
                    c.setValue(!c.getValue());
                    menu.iconVisible = c.value;
            });
            menu.addChild(item1);

            menu.addChild(new photonui.MenuItem({
                    icon: new photonui.FAIcon("fa-users"),
                    text: "Item 2"
            }));

            menu.addChild(new photonui.MenuItem({
                    icon: new photonui.FAIcon("fa-plane"),
                    text: "Item 3",
                    active: false
            }));

            menu.addChild(new photonui.MenuItem({
                    icon: new photonui.FAIcon("fa-cloud"),
                    text: "Item 4"
            }));

            menu.addChild(new photonui.Separator());

            menu.addChild(new photonui.MenuItem({
                    text: "Item 5"
            }));

            // -- submenu

            var submenu = new photonui.Menu({visible: false, name: "submenu1"});
            var submenuitem = new photonui.SubMenuItem({text: "Submenu", menuName: "submenu1"});

            menu.addChild(submenuitem);
            menu.addChild(submenu);

            submenu.addChild(new photonui.MenuItem({icon: new photonui.FAIcon("fa-cloud-download"), text: "Subitem 1"}));
            submenu.addChild(new photonui.MenuItem({icon: new photonui.FAIcon("fa-eye"), text: "Subitem 2"}));
            submenu.addChild(new photonui.MenuItem({text: "Subitem 3"}));

            // -- /submenu

            menu.addChild(new photonui.MenuItem({
                    text: "Item 7"
            }));


            // ====== Popup Menu ======

            var win2 = new photonui.Window({
                    title: "Popup Menu",
                    x: 350, y: 50,
                    padding: 5,
                    visible: true
            });

            var btn = new photonui.Button({
                    rightIcon: new photonui.FAIcon("fa-caret-down"),
                    text: "Click to pop the menu!"
            });
            win2.setChild(btn);

            var popupMenu = new photonui.PopupMenu({width: btn.offsetWidth});
            popupMenu.addChild(new photonui.MenuItem({name: "popicon", icon: new photonui.FAIcon("fa-eye"), text: "Show icons"}));
            popupMenu.addChild(new photonui.Separator());
            popupMenu.addChild(new photonui.MenuItem({icon: new photonui.FAIcon("fa-copy"), text: "Copy"}));
            popupMenu.addChild(new photonui.MenuItem({icon: new photonui.FAIcon("fa-cut"), text: "Cut"}));
            popupMenu.addChild(new photonui.MenuItem({icon: new photonui.FAIcon("fa-paste"), text: "Paste"}));
            popupMenu.addChild(new photonui.Separator());
            popupMenu.addChild(new photonui.MenuItem({icon: new photonui.FAIcon("fa-pencil"), text: "Edit"}));
            popupMenu.addChild(new photonui.MenuItem({icon: new photonui.FAIcon("fa-trash-o"), text: "Delete"}));

            btn.registerCallback("pop", "click", popupMenu.popupWidget, popupMenu);

            var popiconcb = new photonui.CheckBox({value: true});
            photonui.getWidget("popicon").setChild(popiconcb);

            popiconcb.registerCallback("toggle-icons", "value-changed", function(widget) {
                    popupMenu.iconVisible = widget.value;
            });
            popiconcb.registerCallback("toggle-icons-stop", "click", function(widget, event) {
                    widget.setValue(!widget.getValue());
            });
            photonui.getWidget("popicon").registerCallback("click", "click", function(widget, event) {
                    var c = widget.getChild();
                    c.setValue(!c.getValue());
                    popupMenu.iconVisible = c.value;
            });
        </script>
    </body>
</html>

